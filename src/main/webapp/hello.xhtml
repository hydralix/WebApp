<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>JSF 2.0 Hello World</title>
    <h:outputStylesheet library="css" name="table-style.css"/>
</h:head>
<h:body>

	<h:form id="f2">

		<p:menubar>
	        <p:menuitem value="Добавить запись" url="http://www.primefaces.org" icon="ui-icon-document" />
	    </p:menubar>


		<p:panelGrid columns="2">
		    <f:facet name="header">
		        Добавить запись
		    </f:facet>
		
		    <h:outputLabel for="street" value="Улица: " />
		    <p:inputText id="street" value="#{order.street}" label="Street" />
		
		    <h:outputLabel for="house" value="Дом: " />
		    <p:inputText id="house" value="#{order.house}" required="true" label="House"/>
		
		    <f:facet name="footer">
		        <p:commandButton type="button" value="Добавить" icon="ui-icon-check" style="margin:0" action="#{order.addAction}" update="tableOrder"/>
		    </f:facet>
		</p:panelGrid>		
		
		<p:dataTable value="#{order.orderList}" 
				var="o"
    			id = "tableOrder"
    		>
 
    		<p:column>
    			<f:facet name="header">Улица</f:facet>
    			#{o.street}
    		</p:column>
 
    		<p:column>
    			<f:facet name="header">Дом</f:facet>
    			#{o.house}
    		</p:column>
 
    		<p:column>
     			<f:facet name="header">Действие</f:facet>
     			<p:commandLink value="Delete" action="#{order.deleteAction(o)}" update="@form" ajax="true" />
    		</p:column>
 
    		</p:dataTable>
		
	</h:form>
</h:body>
</html>